#
# yokan-config.cmake.in
#

set(YOKAN_VERSION @YOKAN_VERSION@)

@PACKAGE_INIT@

set_and_check(YOKAN_INCLUDE_DIR "@PACKAGE_INCLUDE_INSTALL_DIR@")

check_required_components(yokan)

set(YOKAN_HAS_LEVELDB    @YOKAN_HAS_LEVELDB@)
set(YOKAN_HAS_ROCKSDB    @YOKAN_HAS_ROCKSDB@)
set(YOKAN_HAS_BERKELEYDB @YOKAN_HAS_BERKELEYDB@)
set(YOKAN_HAS_TKRZW      @YOKAN_HAS_TKRZW@)
set(YOKAN_HAS_GDBM       @YOKAN_HAS_GDBM@)
set(YOKAN_HAS_LMDB       @YOKAN_HAS_LMDB@)
set(YOKAN_HAS_UNQLITE    @YOKAN_HAS_UNQLITE@)
set(YOKAN_HAS_LUA        @YOKAN_HAS_LUA@)

include (CMakeFindDependencyMacro)
find_dependency (PkgConfig)
pkg_check_modules (margo REQUIRED IMPORTED_TARGET margo)
pkg_check_modules (uuid REQUIRED IMPORTED_TARGET uuid)

if(YOKAN_HAS_LEVELDB)
    pkg_check_modules (leveldb REQUIRED IMPORTED_TARGET leveldb)
endif()

if(YOKAN_HAS_ROCKSDB)
    pkg_check_modules (rocksdb REQUIRED IMPORTED_TARGET rocksdb)
endif()

find_dependency (BerkeleyDB)

if(YOKAN_HAS_TKRZW)
    pkg_check_modules (tkrzw REQUIRED IMPORTED_TARGET tkrzw)
endif()

find_dependency (GDBM)

if(YOKAN_HAS_LMDB)
    pkg_check_modules (lmdb REQUIRED IMPORTED_TARGET lmdb)
endif()

find_dependency (UnQLite)

find_dependency (sol2)
find_dependency (Lua)

include ("${CMAKE_CURRENT_LIST_DIR}/yokan-targets.cmake")
